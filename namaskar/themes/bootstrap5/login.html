<!doctype html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Admin</title>


    <style>
        * {
            box-sizing: border-box;
            font-size: 20px;
            font-family: sans-serif;
            border: 0;
            padding: 0;
        }

        body,
        html {
            border: 0;
            padding: 0;
            overflow: hidden;
        }

        body {
            background-color: #223344;
            width: 100%;
            height: 100vh;
            display: grid;
            grid-template-columns: 1fr;
            grid-template-rows: 100vh;
            align-items: center;
            justify-items: center;
            overflow: hidden;
        }

        form {
            width: 100%;
            max-width: 320px;
        }


        label {
            position: relative;
        }

        label>svg {
            position: absolute;
            top: -4px;
            left: 12px;
            width: 28px;
            height: 28px;
            z-index: 10;
            fill: #22334488;
        }

        form input {
            width: 100%;
            height: 40px;

            padding: 0 8px 0 48px;
            margin: 8px 0;
            color: black;

            border-radius: 24px;

        }

        form button {

            background-color: #FC1;
            font-weight: bold !important;

            width: 100%;
            height: 40px;
            margin: 8px 0;

            color: black;

            border-radius: 24px;
            text-align: center;

        }

        button:disabled {
            opacity: 0;
        }


        svg {
            display: block;
            width: 120px;
            height: 120px;
            margin: auto ! important;
            padding: 0 ! important;
            color: #223344;

        }

        form p {
            color: white;
            text-align: center;
            padding: 0;
            margin: 0;

        }

        h1 {
            text-align: center;
            color: #FFFFFF00 !important;
            text-transform: uppercase;
            -webkit-text-stroke-width: 1px;
            stroke-width: 1px;
            -webkit-text-stroke-color: #FFF;
            stroke: #FFF;
            text-shadow: 3px 5px 16px #00000080;
            font-size: 56px;
            padding: 0;
            margin: 0;
        }

        canvas#canvas {
            position: absolute;
            z-index: -2;
            width: 100%;
            height: 100vh;
            top: 0;
            left: 0;
        }

        .eyeball {
            fill: "#fff";

        }

        .eyeball.plop {
            display: none;
        }
    </style>
</head>

<body>
    <canvas id="canvas"></canvas>
    <form class="text-center" method="post">
        <svg width="210mm" height="210mm" version="1.1" viewBox="0 0 210 210" xmlns="http://www.w3.org/2000/svg">
            <path
                d="m103 31.7c-46.1 0.701-86.9 44.7-82.8 90.9 3.17 42.9 44.7 78.4 87.6 75.3 35.1-1.64 66.9-28.2 75.6-62.1 6.06-21.8 1.81-45.9-11.2-64.4-15.3-22.9-41.4-38.9-69.2-39.6zm49.3 132c-7.15 5.15-13.1 14.7-22.9 13.9-9.02-2.08-5.48-13.9-7.68-20.6 0.496-6.12 12.3-4.83 17.2-8.69 7.25-3.94 11.1-12 13.9-19.5 3.14-9.77 1.21-20.3-2.74-29.4-2.82-8.2-1.19-23.3-9.52-26.4-11.2 2.23-22.4 10.2-34.1 5.59-13.3 1.09-27-0.268-39.6-4.8-9.24 1.5-7.75 12.5-8.04 19.4-1.44 10.6-9.68 20.6-5.9 31.9 3.18 13.5 13.9 26.9 28.6 27.3 8.93 4.65 1.89 15.2-0.0509 22.1-4.54 10.1-17.9-2.17-23.6-6.85-23.6-19.7-31.9-55.9-17.8-83.5 13.1-27.4 45.3-44.7 75.3-38.3 27.4 4.89 51.1 27.2 55.9 54.8 4.47 22.4-2.24 47.3-19.1 63.1z"
                fill="currentColor" stroke-width=".169" />

            <path
                d="m79.1 180c-36.3-12.4-55.6-57.8-39.7-92.6 14.8-36.2 62.6-53.4 96.8-33.8 33.4 17.4 47.4 63.9 27.2 96.1-8.64 14.7-22.7 26.3-39.1 31.4 4.76-11-12.6-29.7 5.24-28.3 18.8-4.86 29.8-26.8 24.3-44.8-12.2-10 3.62-36.3-16.5-35.4-10.9 11.7-25.6 4.29-39 5.66-13.5 10.7-31.7-16.7-38.7 0.371 2.88 13.9-6.25 25-7.35 38.5-0.919 19.7 15.4 36.9 35.1 37.3-5.37 5.65-1.01 25.2-8.2 25.5z"
                fill="#fff" stop-color="currentColor" stroke-width=".54" style="font-variation-settings:normal" />
            <path d="m107 133c-6.82 3.36-15.8-1.94-3.68-0.849 0.939 0.606 2.83-0.252 3.68 0.849z" stroke="#fff"
                stroke-width="2.69" />
            <g>
                <circle class="eyeball" cx="85" cy="113" r="15" fill="#fff" />
                <circle class="pupil" cx="85" cy="113" r="5" fill="currentColor" />
                <circle class="eyeball" cx="120" cy="113" r="15" fill="#fff" />
                <circle class="pupil" cx="120" cy="113" r="5" fill="currentColor" />
            </g>

        </svg>
        {% if page.title %}
        <h1>{{ page.title }}</h1>
        {% endif %}
        {% if page.message %}
        <p>{{ page.message }}</p>
        {% endif %}




        <label for="login"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                class="inputIcon" viewBox="0 0 16 16">
                <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6" />
            </svg>
        </label>

        <input class="form-control" type="text" id="username" name="username" placeholder="Username">
        <input class="form-control" type="text" id="uid" name="uid" value="{{page.uid}}" hidden>

        <label for="password">
            <svg version="1.0" id="Layer_1" xmlns="http://www.w3.org/2000/svg" fill="currentColor"
                xmlns:xlink="http://www.w3.org/1999/xlink" width="800px" height="800px" viewBox="0 0 64 64"
                enable-background="new 0 0 64 64" xml:space="preserve">
                <path d="M52,24h-4v-8c0-8.836-7.164-16-16-16S16,7.164,16,16v8h-4c-2.211,0-4,1.789-4,4v32c0,2.211,1.789,4,4,4h40
           c2.211,0,4-1.789,4-4V28C56,25.789,54.211,24,52,24z M32,48c-2.211,0-4-1.789-4-4s1.789-4,4-4s4,1.789,4,4S34.211,48,32,48z M40,24
           H24v-8c0-4.418,3.582-8,8-8s8,3.582,8,8V24z" />
            </svg>
        </label>


        <input class="form-control" type="password" id="password" name="password" placeholder="Password">
        {% if page.create %}

        <input class="form-control" type="password" id="password2" name="password2" placeholder="Confirm your Password">
        {% endif %}
        <button class="btn btn-warning" type="submit" id="submit" name="submit">Login</button>

    </form>


    <script>

        const canvas = document.getElementById('canvas');
        const size = 30;
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        // Create 2-dimensional context
        const c = canvas.getContext('2d');
        c.fillStyle = 'rgba(255,255,255, .05)';
        // Make teal rectangles at 200 px intervals


        setTimeout(wink, 3000);
        function wink() {


            if (document.querySelector('.eyeball.plop')) {

                let nextWink = Math.random() < .25 ? 200 : Math.random() * 1500 + 4000;
                setTimeout(wink, nextWink);
            } else {
                setTimeout(wink, 100);
            }

            document.querySelectorAll('.eyeball').forEach(
                elt => {
                    elt.classList.toggle("plop");
                }
            )
        }

        // Mouse position
        let mouseX = 0;
        let mouseY = 0;

        // Add event listener for mouse movement
        document.addEventListener("mousemove", function (event) {
            mouseX = event.clientX;
            mouseY = event.clientY;

            requestAnimationFrame(draw);
        });

        function draw() {


            // Clear the canvas
            c.clearRect(0, 0, canvas.width, canvas.height);

            var rectX = - size + (mouseX / window.innerWidth - 0.5) * size;
            var rectY = - size + (mouseY / window.innerHeight - 0.5) * size;

            for (let i = 0; i < canvas.width + 2 * size; i += size) {
                for (let j = 0; j < canvas.height + 2 * size; j += size) {

                    if ((i + j) & 2) c.fillRect(i + rectX, j + rectY, size, size)
                }
            }




        }

        // Start the animation loop
        draw();

        const username = document.getElementById("username");
        const password = document.getElementById("password");
        const password2 = document.getElementById("password2");

        const submit = document.getElementById("submit");
        if (password2) {
            console.log('plop');
            password2.addEventListener('input', checkText);
            password.addEventListener('input', checkText);
            submit.disabled = true;

        }


        function checkText() {

            const ok = (password.value.length > 7)
                && (password.value.length === password2.value.length)
                && (username.value.length);
            submit.disabled = !ok;


        }
    </script>


</body>

</html>